$('#transactions').html("<%= j render 'transactions', transactions: @transactions %>")

var i = 1;
var transLength =  $('.transaction-line').length;
var nextLine = $('.transaction-line').first();
var container = $('.listed-transactions'),
    scrollTo = $('.transaction-line').last();
var daysRunning = 0;
var lightingWeeks = 0;
var treesSaved = 0;

function runner () {
   setTimeout(function () {
      nextLine.fadeIn(300);
      i++;
      container.animate({
          scrollTop: container.offset().top - scrollTo.offset().top + container.scrollTop()
      });
      nextLine = nextLine.next();
      if (i < transLength) {
         runner();
      }

      if (i % 5 == 0){
        daysRunning += 1;
        $("#days-running").text(daysRunning)
      }

      if (i % 7 == 0) {
        lightingWeeks += 1;
        $("#lighting-weeks").text(lightingWeeks)
      }

      if ( i % 4 == 0 ) {
        treesSaved += 1;
        $("#trees-saved").text(treesSaved)
      }





   }, 1000)
}

runner();


